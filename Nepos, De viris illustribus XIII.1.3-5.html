<!doctype html>
<html lang="nl">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Vocabularium — Punische oorlogen</title>

        <!-- DataTables CSS & jQuery -->
        <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
        <script src="js/tooltip.js" defer></script>
        <link rel="stylesheet" href="style.css?v=1" />

        <style>
            body {
                font-family: sans-serif;
                margin: 2em;
            }
            table.dataTable {
                width: 100% !important;
            }
        </style>
    </head>
    <body data-col6="C1T1">
        <h1>Cornelius Nepos, De viris Illustribus XIII, 1, 3-5</h1>

        <section class="card">
            <h2>Hamilkar</h2>
            <p>
                [3] Interim Karthāginiēnsēs classe apud īnsulās Aegātēs ā C. Lutātiō, cōnsule Rōmānōrum, superātī
                statuērunt bellī facere fīnem eamque rem arbitriō permīserunt Hamilcaris. Ille etsī flăgrabat bellandī
                cupiditāte, tamen pācī serviundum putāvit, quod patriam exhaustam sūmptibus diūtius calamitātēs ferre
                nōn posse intellegēbat,
            </p>
            <p>
                [4] sed ita ut statim mente agitāret, sī paulum modo rēs essēnt refectae, bellum renovāre Rōmānōsque
                armīs persequī, donicum aut virtūte vīcissent aut vīctī manūs dedissent. Hōc cōnsiliō pācem conciliāvit;
            </p>
            <p>
                [5] in quō tanta fuit ferōcia, cum Catulus negāret bellum compositūrum, nisi cum suīs, quī Erycem
                tenērent, armīs relictīs Siciliā dēcēderent, ut succumbente patriā ipse peritūrum sē pōtius dīxerit,
                quam cum tantō flāgitiō domum redīret: nōn enim suae esse virtūtis arma ā patriā acceptā adversus hostēs
                adversāriīs trādere. Huius pertināciae cessit Catulus.
            </p>
        </section>
        <section class="card">
            <h1>Vocabularium Punische oorlogen</h1>

            <input type="text" id="tableSearch" placeholder="Zoek woorden…" style="margin-bottom: 1em" />

            <table id="csvTable" class="display"></table>

            <script>
                $(document).ready(function () {
                    const prefilterCol6 = document.body.getAttribute("data-col6");

                    // Laad CSV via AJAX en zet in DataTable
                    $.ajax({
                        url: "Woordenlijst.csv",
                        dataType: "text"
                    }).done(function (data) {
                        const rows = data.split("\n").map((r) => r.split(","));
                        const columns = rows.shift().map((h) => ({ title: h }));

                        const table = $("#csvTable").DataTable({
                            data: rows,
                            columns: columns,
                            pageLength: 25
                        });

                        // Prefilter op kolom 6 (Categorie) indien opgegeven
                        if (prefilterCol6) {
                            table
                                .column(5)
                                .search("^" + prefilterCol6 + "$", true, false)
                                .draw();
                            $("#tableSearch").hide();
                        } else {
                            $("#tableSearch").on("keyup", function () {
                                table.search(this.value).draw();
                            });
                        }
                    });
                });
            </script>
        </section>
    </body>
</html>